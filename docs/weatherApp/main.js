(()=>{var e={18:(e,t,n)=>{"use strict";e.exports=n.p+"a6b27146e9dd8de323b1.png"},63:(e,t,n)=>{"use strict";e.exports=n.p+"ede6174a6011ea136d13.png"},101:(e,t,n)=>{"use strict";e.exports=n.p+"ec25712f3d10b18f85c2.png"},201:(e,t,n)=>{"use strict";e.exports=n.p+"455701ba0da491295bd3.png"},206:(e,t,n)=>{"use strict";e.exports=n.p+"363b6d20316661697bc2.png"},265:(e,t,n)=>{"use strict";e.exports=n.p+"ce15ca6c4befac297289.png"},301:(e,t,n)=>{"use strict";e.exports=n.p+"9f8b5aaf822223568bf7.png"},357:(e,t,n)=>{"use strict";e.exports=n.p+"db71af031a2f085d0a33.png"},377:(e,t,n)=>{"use strict";e.exports=n.p+"a783002cd4a165d7fe4b.png"},381:(e,t,n)=>{"use strict";e.exports=n.p+"e5ed783e86c65bfde5e4.png"},421:(e,t,n)=>{"use strict";e.exports=n.p+"b43b9e55fa52d3c856a4.png"},523:(e,t,n)=>{"use strict";e.exports=n.p+"e3778f729c8c693c3056.png"},537:(e,t,n)=>{"use strict";e.exports=n.p+"45fdd85bf4a43c23dbc9.png"},590:(e,t,n)=>{"use strict";e.exports=n.p+"76d5536fc50563683378.png"},634:(e,t,n)=>{"use strict";e.exports=n.p+"4fd0fde72e931df7f6e2.png"},677:(e,t,n)=>{"use strict";e.exports=n.p+"fbce7dc99399e5a051c8.png"},682:(e,t,n)=>{"use strict";e.exports=n.p+"9ec222cc822148efe7e0.png"},758:(e,t,n)=>{"use strict";e.exports=n.p+"57dca2f3a352927dbc3e.png"},799:(e,t,n)=>{"use strict";e.exports=n.p+"63dfeb15bd412a0080b5.png"},887:(e,t,n)=>{"use strict";e.exports=n.p+"7b8bc805716dfb33c418.png"},949:(e,t,n)=>{"use strict";e.exports=n.p+"603d90582b8a5faa20bd.png"},979:(e,t,n)=>{var s={"./clear-day.png":537,"./clear-night.png":301,"./cloudy.png":799,"./fog.png":887,"./hail.png":677,"./partly-cloudy-day.png":357,"./partly-cloudy-night.png":377,"./rain-snow-showers-day.png":634,"./rain-snow-showers-night.png":990,"./rain-snow.png":949,"./rain.png":421,"./showers-day.png":63,"./showers-night.png":523,"./sleet.png":682,"./snow-showers-day.png":265,"./snow-showers-night.png":101,"./snow.png":590,"./thunder-rain.png":758,"./thunder-showers-day.png":206,"./thunder-showers-night.png":18,"./thunder.png":201,"./wind.png":381};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=979},990:(e,t,n)=>{"use strict";e.exports=n.p+"4f04cc7c4acfbb880ad7.png"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/theOdinProject/weatherApp/",(()=>{"use strict";const e=n.p+"0e97b5485fb0a1c9d122.png",t=(e=>{const t={};return e.keys().forEach(n=>{const s=n.replace("./","").replace(".png","");t[s]=e(n)}),t})(n(979));console.log(t);const s=t,i={metric:{temp:"°C",windspeed:"km/h",visibility:"km"},uk:{temp:"°C",windspeed:"mph",visibility:"miles"},us:{temp:"°F",windspeed:"mph",visibility:"miles"},base:{temp:"K",windspeed:"m/s",visibility:"km"}},r=t=>{const n={searchInput:document.getElementById("search-bar"),searchButton:document.getElementById("search-button")};let r="";if(!n.searchInput||!n.searchButton)return console.error("Search elements not found"),null;const a=()=>{n.errorElement&&(n.errorElement.style.display="none",n.searchInput.classList.remove("error"))},d=async(e,d="metric")=>{if(e){r=e,a(),n.loader&&(n.loader.style.display="inline-block");try{((e,t)=>{if(!e)throw new Error("No weather data received");if(!e.current||!e.forecast)throw new Error("Incomplete weather data received");a(),((e,t)=>{if(!e)return;const r=i[t];if(n.locationName&&(n.locationName.textContent=e.location||"Uknown Location"),n.currentTemp&&(n.currentTemp.textContent=`${Math.round(e.temp)} ${r.temp}`),n.currentConditions&&(n.currentConditions.innerHTML=`\n            <img src="${s[e.icon]}" alt=${e.icon} icon>\n            ${e.conditions}\n            `),n.allTemp&&(n.allTemp.textContent=`${Math.round(e.tempMax)}${r.temp} / ${Math.round(e.tempMin)}${r.temp} - Feels like ${Math.round(e.feelsLike)}${r.temp}`),n.humidity&&(n.humidity.textContent=`${e.humidity}%`),n.wind&&(n.wind.textContent=`${Math.round(e.windspeed)} ${r.windspeed}`),n.windArrow&&(n.windArrow.style.transform=`rotate(${e.winddir}deg)`),n.pressure&&(n.pressure.textContent=`${e.pressure} mb`),n.uvIndex){const t=e.uvIndex;let s="";s=isNaN(t)||t>=0&&t<=2?"Low":t<=5?`Moderate (${t.toFixed(0)})`:t<=7?`High (${t.toFixed(0)})`:t<=10?`Very High (${t.toFixed(0)})`:`Extreme (${t.toFixed(0)})`,n.uvIndex.textContent=s}n.visibility&&(n.visibility.textContent=`${e.visibility||0} ${r.visibility}`),n.cloudCover&&(n.cloudCover.textContent=`${e.cloudcover||0}%`),n.sunrise&&(n.sunrise.innerHTML=`\n                <div class="sunrise-text">Sunrise</div>\n                <div class="sunrise-time">${e.sunrise.substring(0,5)||"N/A"}</div>\n            `),n.sunset&&(n.sunset.innerHTML=`\n                <div class="sunset-text">Sunset</div>\n                <div class="sunset-time">${e.sunset.substring(0,5)||"N/A"}</div>\n            `)})(e.current,t),((e,t)=>{if(!e||!n.forecastContainer)return;const r=i[t];n.forecastContainer.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.classList.add("forecast-card");const i=`\n                <div class="day-icon">\n                    <img src="${s[e.icon]}" alt="${e.icon}">\n                </div>`;t.innerHTML=`\n                <div class="day-date">${new Date(e.date).toLocaleDateString("en-US",{weekday:"short"})}</div>\n                ${i}\n                <div class="day-temps">\n                    <span class="temp-max">${Math.round(e.tempMax)}${r.temp}</span> / \n                    <span class="temp-min">${Math.round(e.tempMin)}${r.temp}</span>\n                </div>\n            `,n.forecastContainer.appendChild(t)})})(e.forecast,t),n.weatherContainer&&(n.weatherContainer.style.display="block")})(await t(e,d),d)}catch(t){t.response&&(console.error("Response status:",t.response.status),console.error("Response data:",t.response.data)),(t.message.includes("not found")||t.message.includes("404")||t.message.includes("400")||404===t.response?.status||400===t.response?.status)&&(e=>{if(n.errorElement){const t=document.getElementById("error-location-text");t&&(t.textContent=e),n.errorElement.style.display="block",n.searchInput.classList.add("error")}})(e)}finally{n.loader&&(n.loader.style.display="none")}}else alert("Please enter a location")},o=async()=>{const e=n.searchInput.value.trim();d(e)},c=e=>{const t=e.target.getAttribute("value");return n.unitListItems.forEach(e=>{e.classList.remove("active")}),e.target.classList.add("active"),r&&d(r,t),t},l=(()=>{const t=document.createElement("div");t.id="weather-container",t.style.display="none",t.innerHTML=`\n            <div class="current-weather">\n                <h1 id="location-display" class="location">\n                    <span id="location-name"></span>\n                    <i class="fa-solid fa-location-dot"></i>\n                </h1>\n                <div class="current-main">\n                    <div id="current-temp" class="temp-large"></div>\n                    <div id="current-conditions" class="conditions"></div>\n                    <div id="all-temp" class="all-temp"></div>\n                </div>\n                <div class="weather-details">\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-droplet"></i>\n                            Humidity\n                        </div>\n                        <div class="details-value" id="humidity"></div> \n                    </div>\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-wind"></i>\n                            Wind\n                        </div>\n                        <i class="fas fa-arrow-up wind-arrow" id="wind-arrow"></i> \n                        <span class="details-value" id="wind"></span> \n                    </div>\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-gauge"></i>\n                            Pressure\n                        </div>\n                        <div class="details-value" id="pressure"></div> \n                    </div>\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-sun"></i>\n                            UV Index\n                        </div>\n                        <div class="details-value" id="uv-index"></div> \n                    </div>\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-eye"></i>\n                            Visibility\n                        </div>\n                        <div class="details-value" id="visibility"></div> \n                    </div>\n                    <div class="detail-card">\n                        <div class="details-label">\n                            <i class="fa-solid fa-cloud"></i>\n                            Cloud Cover\n                        </div>\n                        <div class="details-value" id="cloud-cover"></div> \n                    </div>\n                    <div class="detail-card" id="sun-diagram">\n                        <div id="sun-arc-wrapper">\n                            <div id="sunrise-sunset-wrapper">\n                                <div class="details-value" id="sunrise"></div>\n                                <img src="${e}" alt="sun to moon gif"/>\n                                <div class="details-value" id="sunset"></div>\n                            </div>\n                        </div>\n                    </div>\n             \n                </div>\n            </div>\n            <div class="forecast-section">\n                <h2 class="forecast-title">7-Day Forecast</h2>\n                <div id="forecast-container" class="forecast-days"></div>\n            </div>\n        `;const n=document.getElementById("units-container");return n.parentNode.insertBefore(t,n.nextSibling),t})(),u=(()=>{const e=document.createElement("div");return e.id="search-error",e.className="search-error",e.style.display="none",e.innerHTML='\n            <div class="error-content">\n                <i class="fa-solid fa-triangle-exclamation"></i>\n                <span class="error-text">Location "<span id="error-location-text"></span>" not found</span>\n            </div>\n        ',n.searchButton.parentNode.insertBefore(e,n.searchButton.nextSibling),e})();n.errorElement=u;const p=(()=>{const e=document.createElement("div");return e.id="search-loader",e.innerHTML='<div class="search-spinner"></div>',e.style.display="none",document.querySelector(".search-container")&&n.searchButton.parentNode.insertBefore(e,n.searchButton.nextSibling),e})();return n.loader=p,n.weatherContainer=l,n.errorElement=u,n.unitsBtn=document.getElementById("units-btn"),n.unitOptions=document.getElementById("unit-options"),n.unitListItems=n.unitOptions.querySelectorAll("li"),n.locationName=document.getElementById("location-name"),n.currentTemp=document.getElementById("current-temp"),n.currentConditions=document.getElementById("current-conditions"),n.allTemp=document.getElementById("all-temp"),n.humidity=document.getElementById("humidity"),n.wind=document.getElementById("wind"),n.windArrow=document.getElementById("wind-arrow"),n.pressure=document.getElementById("pressure"),n.uvIndex=document.getElementById("uv-index"),n.visibility=document.getElementById("visibility"),n.cloudCover=document.getElementById("cloud-cover"),n.sunrise=document.getElementById("sunrise"),n.sunset=document.getElementById("sunset"),n.forecastContainer=document.getElementById("forecast-container"),n.searchButton.addEventListener("click",o),n.searchInput.addEventListener("keydown",e=>{"Enter"===e.key&&o()}),n.searchInput.addEventListener("input",a),n.unitsBtn.addEventListener("click",e=>(e=>{const t=e.target.closest(".dropdown-btn"),n=t.nextElementSibling,s=e=>{t.contains(e.target)||n.contains(e.target)||(n.classList.remove("visible"),t.classList.remove("visible"),document.removeEventListener("click",s))};n.classList.contains("visible")?(n.classList.remove("visible"),t.classList.remove("visible")):(n.classList.add("visible"),t.classList.add("visible"),setTimeout(()=>{document.addEventListener("click",s)},0))})(e)),n.unitOptions.addEventListener("click",e=>{e.target.classList.contains("dropdown-option")&&c(e)}),{handleSearch:o,handleDefaultPage:async e=>{d(e)},unitsButtonClicked:c}};document.addEventListener("DOMContentLoaded",()=>{r(async(e,t="metric")=>await(async(e,t)=>{if(!e)return;const n=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}?unitGroup=${t}&iconSet=icons2&key=6Q6CEU9U2AHNTADAYTQS6GXH9`;try{const e=await fetch(n);if(!e.ok)throw new Error(`Response status: ${e.status}`);const t=await e.json(),s=t.currentConditions,i=t.days||[];return{current:{location:t.resolvedAddress,dateTime:s.datetime,temp:s.temp,feelsLike:s.feelslike,conditions:s.conditions,tempMax:i[0].tempmax,tempMin:i[0].tempmin,humidity:s.humidity,pressure:s.pressure,windspeed:s.windspeed,winddir:s.winddir,uvIndex:s.uvindex,visibility:s.visibility,cloudcover:s.cloudcover,sunrise:s.sunrise,sunset:s.sunset,icon:s.icon},forecast:i.slice(1,8).map(e=>({date:e.datetime,tempMax:e.tempmax,tempMin:e.tempmin,conditions:e.conditions,icon:e.icon}))}}catch(e){throw e}})(e,t)).handleDefaultPage("Nicosia")})})()})();
//# sourceMappingURL=main.js.map